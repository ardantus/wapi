<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>WhatsApp API - Demo UI</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial; margin:16px}
    #container{display:flex; gap:16px}
    #left{width:320px}
    #right{flex:1}
    .chat{padding:8px;border:1px solid #ddd;margin-bottom:6px;cursor:pointer}
    .chat.active{background:#eef}
    #qr{width:100%;border:1px solid #ccc;padding:8px}
    input,textarea,button,select{display:block;width:100%;margin:6px 0;padding:8px}
    .small{width:auto;display:inline-block}
    #messages{border:1px solid #eee;padding:8px;height:300px;overflow:auto;background:#fafafa;margin-top:8px}
    #messages>div{padding:4px 0;word-wrap:break-word;white-space:pre-wrap;word-break:break-word;line-height:1.4}
    .message-item{padding:8px;border-left:3px solid #007bff;margin:4px 0;background:#fff;border-radius:4px;font-size:13px}
    .message-item .time{color:#888;font-size:11px}
    .message-item .sender{font-weight:bold;color:#007bff}
    .message-item .body{margin-top:4px;color:#333}
    .message-item img{max-width:100%;height:auto;border-radius:4px;cursor:pointer}
    .message-item video{max-width:100%;height:auto;border-radius:4px}
    .message-item audio{width:100%;margin-top:8px}
    .message-item.highlight{background:#ffffcc;border-left-color:#ffc107}
    #chats>input{width:100%;margin-bottom:8px;padding:6px;border:1px solid #ddd;border-radius:4px}
    .chat-search-result{font-size:12px;color:#666;margin-bottom:8px}
  </style>
</head>
<body>
  <h1>WhatsApp API - Demo UI</h1>
  <div>
    <strong>Status:</strong> <span id="status">-</span>
    <label style="margin-left:12px">Client:</label>
    <select id="clientSelect" style="width:220px; display:inline-block"></select>
    <button id="addClient" class="small">+ Add</button>
    <button id="delClient" class="small">Delete</button>
    <button id="refreshChats">Load Chats</button>
    <div style="margin-top:8px">
      <strong style="font-size:12px">API Key:</strong> <input id="apiKeyDisplay" style="width:220px;display:inline-block" readonly placeholder="Select a client to view API key">
      <button id="generateApiKey" class="small">ğŸ”„ Generate</button>
      <button id="rotateApiKey" class="small">ğŸ” Rotate</button>
      <button id="copyApiKey" class="small">ğŸ“‹ Copy</button>
      <form method="post" action="/logout" style="display:inline-block;margin-left:8px">
        <button type="submit" class="small">Logout</button>
      </form>
    </div>
  </div>
  <div id="container">
    <div id="left">
      <div>
        <img id="qr" alt="QR" onerror="this.style.display='none'">
      </div>
      <input id="searchChats" placeholder="ğŸ” Search chats..." type="text">
      <div id="chatSearchResult" class="chat-search-result"></div>
      <div id="chats"></div>
    </div>
    <div id="right">
      <div>
        <h3 id="chatTitle">Select a chat</h3>
        <div id="chatInfo"></div>
        <div style="margin:6px 0">
          <input id="searchMessages" placeholder="ğŸ” Search messages..." type="text" style="width:100%;padding:6px;border:1px solid #ddd;border-radius:4px">
          <div id="messageSearchResult" style="font-size:12px;color:#666;margin:4px 0"></div>
        </div>
        <div id="messages"></div>
        <textarea id="message" placeholder="Type a message"></textarea>
        <div style="margin:6px 0">
          <input type="file" id="mediaFile" accept="image/*,video/*" style="width:100%;margin:6px 0">
          <div style="font-size:12px;color:#666" id="mediaInfo"></div>
        </div>
        <button id="send">Send Message</button>
        <button id="sendMedia" style="margin-left:6px">Send Media</button>
        <button id="prevMessages" class="small">â†‘ Prev</button>
        <button id="nextMessages" class="small">â†“ Next</button>
        <button id="exportMessages" class="small">ğŸ“¥ Export</button>
      </div>
      <div id="groupActions" style="display:none; margin-top:20px;">
        <h4>Group Actions</h4>
        <input id="participants" placeholder="participant1@c.us,participant2@c.us">
        <button id="addParticipants">Add Participants</button>
        <button id="removeParticipants">Remove Participants</button>
        <button id="promoteParticipants">Promote Participants</button>
        <button id="demoteParticipants">Demote Participants</button>
        <button id="loadParticipants">Load Participants</button>
        <pre id="participantsList" style="background:#f7f7f7;padding:8px;border:1px solid #eee;max-height:200px;overflow:auto"></pre>
      </div>
      <div style="margin-top:20px;">
        <h4>Events</h4>
        <pre id="events" style="background:#000;color:#0f0;padding:8px;height:200px;overflow:auto"></pre>
      </div>
    </div>
  </div>
  <script src="/app.js?v=3"></script>
</body>
</html>
